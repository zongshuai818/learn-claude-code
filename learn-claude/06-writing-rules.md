═══════════════════════════════════════════════════════════════════
第 06 课：编写规则
═══════════════════════════════════════════════════════════════════

**规则**是 Claude 在处理你的项目时遵循的约束。对于游戏，这意味着你可以定义游戏规则 —— 武器伤害范围、敌人属性、房间要求 —— Claude 每次添加内容时都会遵守它们。

## 规则存放位置

在你的 `CLAUDE.md` 文件中：

```markdown
## 规则

- 始终使用 pnpm，从不使用 npm
- 不要修改 /legacy 中的文件
- 提交前运行测试
```

## 规则类型

**风格：**"使用命名导出，而不是默认导出"

**边界：**"不要修改 /packages/core 中的任何内容"

**流程：**"修改测试文件后运行 `pnpm test`"

**安全：**"永远不要提交 API 密钥或秘密"

## 编写好的规则

| 模糊               | 具体                                       |
| ------------------ | ------------------------------------------ |
| "编写好代码"       | "为导出的函数添加 JSDoc 注释"              |
| "小心"             | "删除文件前询问"                           |

## 试试看

1. 要求 Claude 添加规则：

   > 向 dungeon/CLAUDE.md 添加一个规则部分，包含以下游戏规则：武器伤害 1-10，敌人 HP 5-30，房间描述 2-3 句氛围描写的句子，每个房间必须至少有一个出口，没有单向门。

2. 尝试打破规则：

   > 添加一把造成 50 点伤害的传奇剑

3. Claude 应该会拒绝或调整以遵循你的规则。

完成后告诉我，或如果你有问题！
